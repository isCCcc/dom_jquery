{"mappings":"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","sources":["src/jquery.js"],"sourcesContent":["window.$ = window.jQuery = function (selector) {\r\n    let elements\r\n    if (typeof selector === 'string') {  // 重构\r\n        if (selector[0] === \"<\") {\r\n            // 创建div\r\n            elements = [createElement(selector)]\r\n        } else {\r\n            // 查询div\r\n            elements = document.querySelectorAll(selector)\r\n        }\r\n    } else if (selector instanceof Array) {\r\n        elements = selector\r\n    }\r\n\r\n    // 创建节点\r\n    function createElement(string) {\r\n        const container = document.createElement(\"template\");\r\n        container.innerHTML = string.trim();\r\n        return container.content.firstChild;\r\n    }\r\n\r\n    // 指定jQuery的prototype\r\n    const api = Object.create(jQuery.prototype)\r\n    // const api = {__proto__: jQuery.prototype}\r\n\r\n    Object.assign(api, {\r\n        elements: elements,\r\n        oldApi: selector.oldApi,\r\n    })\r\n    // api.elements = elements\r\n    // api.oldApi = selectorOrArrayOrTemplate.oldApi\r\n\r\n    // 返回一个可以操作 elements 的对象的 api\r\n    return api\r\n}\r\n\r\njQuery.fn = jQuery.prototype = {\r\n    constructor: jQuery,\r\n    jquery: true,\r\n    // 闭包，访问外界变量 elements\r\n    addClass(className) {\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].classList.add(className)\r\n        }\r\n        // 链式操作，返回对象本身\r\n        return this\r\n    },\r\n    // 查找 #xxx 里的 #yyy 元素\r\n    find(selector) {\r\n        let array = []\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            const el = Array.from(this.elements[i].querySelectorAll(selector))\r\n            array = array.concat(el)\r\n        }\r\n        array.oldApi = this   // 将现阶段的 this 存储下来(旧api)\r\n        return jQuery(array)  // 返回新的 api\r\n    },\r\n    // 回退到上一个操作的 api\r\n    end() {\r\n        return this.oldApi\r\n    },\r\n    // 遍历元素\r\n    each(fn) {\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            fn.call(null, this.elements[i], i)\r\n        }\r\n        return this\r\n    },\r\n    // 获取父节点\r\n    parent() {\r\n        const array = []\r\n        this.each((node) => {\r\n            if (array.indexOf(node.parentNode) === -1) {\r\n                array.push(node.parentNode)\r\n            }\r\n        })\r\n        return jQuery(array);\r\n    },\r\n    // 获取子节点\r\n    children() {\r\n        const array = []\r\n        this.each((node) => {\r\n            array.push(...node.children)\r\n        })\r\n        return jQuery(array);\r\n    },\r\n    // 获取兄弟节点\r\n    siblings() {\r\n        const array = []\r\n        this.each((node) => {\r\n            array.push(...Array.from(node.parentNode.children).filter(n => n != node))\r\n        })\r\n        return jQuery(array);\r\n    },\r\n    // 获取上一个节点\r\n    prev() {\r\n        const array = []\r\n        this.each((node) => {\r\n            let flag = node.previousSibling\r\n            while (flag && flag.nodeType === 3) {\r\n                flag = flag.previousSibling\r\n            }\r\n            array.push(flag)\r\n        })\r\n        return jQuery(array)\r\n    },\r\n    // 获取下一个节点\r\n    next() {\r\n        const array = []\r\n        this.each((node) => {\r\n            let flag = node.nextSibling\r\n            while (flag && flag.nodeType === 3) {\r\n                flag = flag.nextSibling\r\n            }\r\n            array.push(flag)\r\n        })\r\n        return jQuery(array)\r\n    },\r\n    // 获取指定下标节点数组\r\n    get(index) {\r\n        return this.elements[index];\r\n    },\r\n    // 打印节点\r\n    print() {\r\n        console.log(this.elements)\r\n    },\r\n    // 将节点插入到node中\r\n    appendTo(node) {\r\n        if (node instanceof Element) {\r\n            this.each(el => node.appendChild(el));\r\n        } else if (node.jquery === true) {\r\n            this.each(el => node.get(0).appendChild(el));\r\n        }\r\n    },\r\n    // 添加节点到第一个选择器内\r\n    append(children) {\r\n        if (children instanceof Element) {\r\n            this.get(0).appendChild(children);\r\n        } else if (children instanceof HTMLCollection) {\r\n            for (let i = 0; i < children.length; i++) {\r\n                this.get(0).appendChild(children[i]);\r\n            }\r\n        } else if (children.jquery === true) {\r\n            children.each(node => this.get(0).appendChild(node));\r\n        }\r\n    },\r\n}"],"names":[],"version":3,"file":"index.3e2f9b55.js.map","sourceRoot":"/__parcel_source_root/"}